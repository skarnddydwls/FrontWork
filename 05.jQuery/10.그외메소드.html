<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        .highlight-0{background-color: red;}
        .highlight-1{background-color: orange;}
        .highlight-2{background-color: yellow;}
        .highlight-3{background-color: green;}
        .highlight-4{background-color: blue;}
    </style>
    <title>기타 메소드</title>
</head>
<body>
    <h3>** each() 메소드</h3>
    <p>
        배열의 모든 인덱스에 순차적으로 접근하고자 할 때 <br>
        객체가 가지고 있는 모든 속성에 순차적으로 접근하고자 할 때 <br>
        사용하는 for in문과 유사하게 수행되는 메소드 
    </p>

    <pre>
    1) $.each(객체|배열, function([매개변수1, 매개변수2]) {
            순차적으로 접근할 때마다 실행할 내용;
       })

    2) 객체|배열.each(function([매개변수1, 매개변수2]){
            순차적으로 접근할 때마다 실행할 내용;
       })

        >> 객체가 들어왔다면 
          첫번째 매개변수에는 순차적으로 접근할 때마다의 객체의 속성명(키)이 담김
          두번째 매개변수에는 해당 속성값이 담김

        >> 배열이 들어왔다면 
          첫번째 매개변수에는 순차적으로 접근할 때마다의 인덱스번호가 담김
          두번째 매개변수에는 해당 값이 담김
    </pre>

    <script>
        $(()=>{
            const arr = ['강','남','하','동'];

            // 1) for in
            for(let i in arr){
                console.log(`${i}: ${arr[i]}`);
            }
            console.log('===========================')

            // 2) each(배열,함수)
            $.each(arr, function(index, value){
                console.log(`${index}: ${value}`);
            })
            console.log('===========================')

            // 3) 배열.each(함수)
            
            $(arr).each(function(index, value){
                console.log(`${index}: ${value}`);
            })
            console.log('===========================')
            

            const student = {
                name: '한상진',
                age: 28,
                address: '서울'
            }

            // 1) for in
            for(let key in student){
                console.log(`${key}: ${student[key]}`);
            }
            console.log('===========================')

            // 2) each(객체, 함수)
            $.each(student,function(key, value){
                console.log(`${key}: ${student[key]}`);
            })

            // 3) 객체.each(함수)
            $(student).each(function(key, value){
                console.log(`${key}: ${student[key]}`);
            })
            console.log('===========================')
            
            $('#btn1').click(function(){
                const students = [{name: '남궁용진', age:20, address:'서울'},
                                  {name: '한상진', age: 28, address:'세종'},
                                  {name: '김진오', age:29, address:'원주'}]
                
                let result ='';
                $.each(students, (i, obj) => {
                    result += `<tr>
                                    <td>${obj.name}</td>
                                    <td>${obj.age}</td>
                                    <td>${obj.address}</td>
                                </tr>`;
                })

                $('#area1 tbody').html(result);
            })
        })
    </script>

    <button id="btn1">학생 조회</button>
    <table id="area1">
        <thead>
            <tr>
                <th>이름</th>
                <th>나이</th>
                <th>주소</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <hr><hr>

    <div id="area2">
        <h1>item-1</h1>
        <h1>item-2</h1>
        <h1>item-3</h1>
        <h1>item-4</h1>
        <h1>item-5</h1>
    </div>

    <script>
        $(()=>{
            /*
            $('#area2').children().each(function(i, el){
                console.log(el);

                // el.addClass('highlight-'+i); // javascript방식으로 선택된 요소가 담겨있어 안됨
                // el.className = 'highlight-' +i;

                // javascript => jQuery 변환한 후 jQuery 메소드 이용
                // $(el).addClass('highlight-' +i);
            })
            */

            $('#area2').children().each(function(i){
                $(this).addClass('highlight-' +i);
            })
        })
    </script>
    <hr>

    <h3>* is 메소드</h3>
    <p>
        $('선택자').is('선택자') <br>
        선택된 요소가 내가 전달한 값과 일치하는지 판단하여 그에 해당하는 논리값 반환 (true|false)
    </p>

    <h4 class="test">test1</h4>
    <h4>test2</h4>
    <h4 class="test">test3</h4>
    <h4 class="test">test4</h4>
    <h4>test5</h4>
    <h4 class="test">test6</h4>

    <script>
        $(()=>{
            // 이 문서에서 모든 h4 요소에 순차적으로 접근하여 test클래스가 존재하면 배경색을 변경
            $('h4').each(function(){
                if($(this).is('.test')){
                    $(this).css('backgroundColor','skyblue');
                }
            })
        })
    </script>
</body>
</html>